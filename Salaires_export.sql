-- CREATE USER SALAIRE
-- IDENTIFIED BY afpa123;
-- GRANT CONNECT, RESOURCE  TO SALAIRE;
--------------------------------------------------------
--  Fichier créé - jeudi-décembre-08-2016   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table BULLETIN
--------------------------------------------------------

  CREATE TABLE "SALAIRE"."BULLETIN" 
   (	"NUMMATRIC" NUMBER(4,0), 
	"NORUBRIQUE" NUMBER(4,0), 
	"DATEPAYE" DATE, 
	"MONTANT" NUMBER(6,0)
   ) ;
--------------------------------------------------------
--  DDL for Table RUBRIQUE
--------------------------------------------------------

  CREATE TABLE "SALAIRE"."RUBRIQUE" 
   (	"NORUBRIQUE" NUMBER(3,0), 
	"LIBELLE" VARCHAR2(40 BYTE), 
	"SENS" CHAR(1 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table SALARIE
--------------------------------------------------------

  CREATE TABLE "SALAIRE"."SALARIE" 
   (	"NUMMATRIC" NUMBER(4,0), 
	"NOM" VARCHAR2(20 BYTE), 
	"PRENOM" VARCHAR2(20 BYTE), 
	"ADR" VARCHAR2(40 BYTE), 
	"CODPOSTAL" NUMBER(5,0), 
	"VILLE" VARCHAR2(20 BYTE), 
	"CODSERVICE" CHAR(5 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table SERVICE
--------------------------------------------------------

  CREATE TABLE "SALAIRE"."SERVICE" 
   (	"CODSERVICE" CHAR(5 BYTE), 
	"NOMSERVICE" VARCHAR2(40 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
REM INSERTING into SALAIRE.BULLETIN
SET DEFINE OFF;
Insert into SALAIRE.BULLETIN (NUMMATRIC,NORUBRIQUE,DATEPAYE,MONTANT) values ('1001','1',to_date('31/01/02','DD/MM/RR'),'15000');
Insert into SALAIRE.BULLETIN (NUMMATRIC,NORUBRIQUE,DATEPAYE,MONTANT) values ('1001','4',to_date('31/01/02','DD/MM/RR'),'1000');
Insert into SALAIRE.BULLETIN (NUMMATRIC,NORUBRIQUE,DATEPAYE,MONTANT) values ('1001','102',to_date('31/01/02','DD/MM/RR'),'1100');
Insert into SALAIRE.BULLETIN (NUMMATRIC,NORUBRIQUE,DATEPAYE,MONTANT) values ('1002','1',to_date('31/01/02','DD/MM/RR'),'20000');
Insert into SALAIRE.BULLETIN (NUMMATRIC,NORUBRIQUE,DATEPAYE,MONTANT) values ('1002','102',to_date('31/01/02','DD/MM/RR'),'2000');
Insert into SALAIRE.BULLETIN (NUMMATRIC,NORUBRIQUE,DATEPAYE,MONTANT) values ('1002','4',to_date('31/01/02','DD/MM/RR'),'2500');
REM INSERTING into SALAIRE.RUBRIQUE
SET DEFINE OFF;
Insert into SALAIRE.RUBRIQUE (NORUBRIQUE,LIBELLE,SENS) values ('1','salaire de base','+');
Insert into SALAIRE.RUBRIQUE (NORUBRIQUE,LIBELLE,SENS) values ('2','heures sup à 100%','+');
Insert into SALAIRE.RUBRIQUE (NORUBRIQUE,LIBELLE,SENS) values ('3','heures sup à 125%','+');
Insert into SALAIRE.RUBRIQUE (NORUBRIQUE,LIBELLE,SENS) values ('4','heures sup à 150%','+');
Insert into SALAIRE.RUBRIQUE (NORUBRIQUE,LIBELLE,SENS) values ('102','retenue sécurité sociale','-');
Insert into SALAIRE.RUBRIQUE (NORUBRIQUE,LIBELLE,SENS) values ('200','retenue retraite','-');
REM INSERTING into SALAIRE.SALARIE
SET DEFINE OFF;
Insert into SALAIRE.SALARIE (NUMMATRIC,NOM,PRENOM,ADR,CODPOSTAL,VILLE,CODSERVICE) values ('1001','Durand','Paul','24 rue Tiers','92000','Nanterre','Fin01');
Insert into SALAIRE.SALARIE (NUMMATRIC,NOM,PRENOM,ADR,CODPOSTAL,VILLE,CODSERVICE) values ('1002','Blaise','Pascal','5 rue des pensées  ','92000','Nanterre','Pro10');
Insert into SALAIRE.SALARIE (NUMMATRIC,NOM,PRENOM,ADR,CODPOSTAL,VILLE,CODSERVICE) values ('1003','Blaise','Pascal','12 rue des troubadours','31800','Toulouse','Pro10');
REM INSERTING into SALAIRE.SERVICE
SET DEFINE OFF;
Insert into SALAIRE.SERVICE (CODSERVICE,NOMSERVICE) values ('Fin01','Direction financière');
Insert into SALAIRE.SERVICE (CODSERVICE,NOMSERVICE) values ('Pro10','Production');

Insert into SALAIRE.SERVICE (CODSERVICE,NOMSERVICE) 
values 
('Can10','Can10'),
('Can11','Can11'),
('Can12','Can12');
--------------------------------------------------------
--  DDL for Index SERVICE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SALAIRE"."SERVICE_PK" ON "SALAIRE"."SERVICE" ("CODSERVICE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index SALARIE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SALAIRE"."SALARIE_PK" ON "SALAIRE"."SALARIE" ("NUMMATRIC") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index RIBRIQUE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SALAIRE"."RIBRIQUE_PK" ON "SALAIRE"."RUBRIQUE" ("NORUBRIQUE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table RUBRIQUE
--------------------------------------------------------

  ALTER TABLE "SALAIRE"."RUBRIQUE" ADD CONSTRAINT "RIBRIQUE_PK" PRIMARY KEY ("NORUBRIQUE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "SALAIRE"."RUBRIQUE" MODIFY ("SENS" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."RUBRIQUE" MODIFY ("LIBELLE" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."RUBRIQUE" MODIFY ("NORUBRIQUE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SALARIE
--------------------------------------------------------

  ALTER TABLE "SALAIRE"."SALARIE" ADD CONSTRAINT "SALARIE_PK" PRIMARY KEY ("NUMMATRIC")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "SALAIRE"."SALARIE" MODIFY ("CODSERVICE" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."SALARIE" MODIFY ("VILLE" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."SALARIE" MODIFY ("CODPOSTAL" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."SALARIE" MODIFY ("ADR" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."SALARIE" MODIFY ("PRENOM" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."SALARIE" MODIFY ("NOM" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."SALARIE" MODIFY ("NUMMATRIC" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SERVICE
--------------------------------------------------------

  ALTER TABLE "SALAIRE"."SERVICE" ADD CONSTRAINT "SERVICE_PK" PRIMARY KEY ("CODSERVICE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "SALAIRE"."SERVICE" MODIFY ("NOMSERVICE" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."SERVICE" MODIFY ("CODSERVICE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table BULLETIN
--------------------------------------------------------

  ALTER TABLE "SALAIRE"."BULLETIN" MODIFY ("MONTANT" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."BULLETIN" MODIFY ("DATEPAYE" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."BULLETIN" MODIFY ("NORUBRIQUE" NOT NULL ENABLE);
  ALTER TABLE "SALAIRE"."BULLETIN" MODIFY ("NUMMATRIC" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table BULLETIN
--------------------------------------------------------

  ALTER TABLE "SALAIRE"."BULLETIN" ADD CONSTRAINT "BULLETIN_FK1" FOREIGN KEY ("NUMMATRIC")
	  REFERENCES "SALAIRE"."SALARIE" ("NUMMATRIC") ENABLE;
  ALTER TABLE "SALAIRE"."BULLETIN" ADD CONSTRAINT "BULLETIN_FK2" FOREIGN KEY ("NORUBRIQUE")
	  REFERENCES "SALAIRE"."RUBRIQUE" ("NORUBRIQUE") ENABLE;
